<!--
 * @Author: tackchen
 * @Date: 2022-10-13 15:41:22
 * @Description: Coding something
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="update()">update</button>
    <button onclick="clear()">clear</button>
    <div id="app"></div>
    <script>
        const el = document.getElementById('app');

        const array = [];
        for (let i = 0; i < 30000; i++) {
            array.push({
                a: Math.random().toString()
            });
        }
        console.time('mounted')
        const frag = document.createDocumentFragment();
        array.forEach(v=>{
            const d = document.createElement('div');
            d.innerText = v.a;
            frag.appendChild(d);
        })
        el.appendChild(frag);
        console.log(el.childElementCount);
        console.log(el.childNodes[el.childElementCount - 1]);
        console.log(el.childNodes[el.childElementCount - 1].innerText);
        console.timeLog('mounted')

        window.addEventListener('load', () => {
            console.log('load');
            console.timeLog('mounted');
        });
        window.addEventListener('DOMContentLoaded', () => {
            console.log('DOMContentLoaded');
            console.timeLog('mounted');
        });
        function update(){
            console.time('updated');
            const list = el.children;
            for(let i = 0; i < list.length; i++) {
                list[i].textContent = list[i].textContent + 'xxxxx';
            }
            console.timeEnd('updated');
        }
        function clear(){
            document.body.innerHTML = ''
        }

    </script>
</body>

</html>